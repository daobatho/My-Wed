<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard with Temperature and Humidity</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            margin: 0; /* Bỏ các khoảng trống mặc định của body */
            padding: 0; /* Bỏ padding mặc định của body */
            height: 100vh; /* Chiều cao của body là toàn màn hình */
            background: linear-gradient(135deg, #00c3ff 0%, #1cefff 100%); /* Màu nền gradient */
            font-family: 'Open Sans', sans-serif; /* Font chữ cho toàn bộ trang */
            display: flex;
            flex-direction: column; /* Hiển thị các phần tử theo cột */
            justify-content: center; /* Căn giữa các phần tử theo chiều dọc */
            align-items: center; /* Căn giữa các phần tử theo chiều ngang */
        }

        .dashboard-container {
            display: flex; /* Hiển thị các ô thông tin theo hàng ngang */
            gap: 50px; /* Khoảng cách giữa các ô thông tin */
            margin-top: 50px; /* Khoảng cách phía trên các ô thông tin */
        }

        .info-box {
            width: 200px; /* Chiều rộng của mỗi ô thông tin */
            padding: 10px; /* Khoảng cách bên trong ô */
            background-color: #007bff; /* Màu nền mặc định của ô */
            border-radius: 8px; /* Bo tròn các góc của ô */
            color: white; /* Màu chữ trắng */
            text-align: center; /* Căn giữa chữ trong ô */
        }

        .info-box h2 {
            margin: 0; /* Bỏ khoảng cách mặc định phía trên và dưới */
            font-size: 18px; /* Kích thước font của tiêu đề */
            font-weight: 600; /* Độ đậm của tiêu đề */
        }

        .info-box p {
            margin: 10px 0 0; /* Khoảng cách trên dưới của phần chữ số */
            font-size: 36px; /* Kích thước font của chữ số */
            font-weight: bold; /* Chữ số in đậm */
            display: flex; /* Sử dụng flexbox cho biểu tượng và giá trị */
            justify-content: center; /* Căn giữa nội dung */
            align-items: center; /* Căn giữa theo chiều dọc */
        }

        .info-box p i {
            margin-left: 10px; /* Khoảng cách giữa giá trị và biểu tượng */
        }

        .info-box.temp {
            background-color: #17a2b8; /* Màu nền của ô Nhiệt Độ */
        }

        .info-box.humidity {
            background-color: #28a745; /* Màu nền của ô Độ Ẩm */
        }

        .info-box.led-on {
            background-color: #ffc107; /* Màu nền của ô LED ON */
        }

        .info-box.led-off {
            background-color: #6c757d; /* Màu nền của ô LED OFF */
        }

        .chart-container {
            width: 80%; /* Chỉnh kích thước đồ thị */
            max-width: 800px; /* Giới hạn chiều rộng tối đa của đồ thị */
            max-height: 500px;
            margin-top: 80px; /* Cách các ô thông tin 80px */
            margin-left: 150px; /* Cách lề trái 180px */
            align-self: flex-start; /* Đặt đồ thị không căn giữa, mà căn theo lề trái của parent container */
        }

        canvas {
            background: #ffffff; /* Màu nền của đồ thị */
            border-radius: 10px; /* Bo tròn các góc của đồ thị */
            padding: 20px; /* Khoảng cách bên trong đồ thị */
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="info-box temp">
            <h2>Nhiệt Độ</h2>
            <p>25°C <i class="fas fa-thermometer-half"></i></p> <!-- Biểu tượng nhiệt kế bên phải giá trị -->
        </div>
        <div class="info-box humidity">
            <h2>Độ Ẩm</h2>
            <p>60% <i class="fas fa-tint"></i></p> <!-- Biểu tượng giọt nước bên phải giá trị -->
        </div>
        <div class="info-box led-on">
            <h2>LED ON</h2>
            <p>✓</p>
        </div>
        <div class="info-box led-off">
            <h2>LED OFF</h2>
            <p>✗</p>
        </div>
    </div>

    <div class="chart-container">
        <canvas id="temperatureChart"></canvas>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Dữ liệu mẫu ban đầu cho đồ thị
        const labels = ['00:00', '01:00', '02:00', '03:00', '04:00', '05:00', '06:00', '07:00', '08:00', '09:00', '10:00'];
        const data = {
            labels: labels,
            datasets: [{
                label: 'Nhiệt độ trong ngày', // Tiêu đề của đồ thị
                backgroundColor: 'rgba(255, 255, 0, 0.2)', // Thay đổi màu nền của đường đồ thị thành vàng nhạt
                borderColor: 'rgba(255, 255, 0, 1)', // Thay đổi màu viền của đường đồ thị thành vàng
                data: [22, 21, 20, 19, 18, 17, 20, 22, 24, 26, 27], // Dữ liệu nhiệt độ
                fill: false, // Không tô màu dưới đường đồ thị
                tension: 0.1 // Độ cong của đường đồ thị
            }]
        };

        const config = {
            type: 'line', // Loại đồ thị là line chart
            data: data,
            options: {
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Thời gian (giờ)' // Tiêu đề trục X
                        }
                        
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Nhiệt độ (°C)' // Tiêu đề trục Y
                        }
                    }
                }
            }
        };

        // Khởi tạo đồ thị nhiệt độ với cấu hình trên
        const temperatureChart = new Chart(
            document.getElementById('temperatureChart'),
            config
        );

        // Giả lập cập nhật dữ liệu mỗi giờ
        setInterval(() => {
            const currentHour = new Date().getHours(); // Lấy giờ hiện tại
            labels.push(currentHour + ':00'); // Thêm giờ mới vào trục X
            if (labels.length > 12) labels.shift(); // Giới hạn chỉ hiển thị 12 giờ gần nhất
            const newTemperature = Math.floor(Math.random() * 10) + 20; // Sinh nhiệt độ ngẫu nhiên từ 20°C đến 29°C
            data.datasets[0].data.push(newTemperature); // Thêm nhiệt độ mới vào dữ liệu
            if (data.datasets[0].data.length > 12) data.datasets[0].data.shift(); // Giới hạn chỉ hiển thị 12 điểm dữ liệu
            temperatureChart.update(); // Cập nhật lại đồ thị
        }, 3600000); // Cập nhật mỗi giờ (3600000 ms = 1 giờ)
    </script>
</body>
</html>
